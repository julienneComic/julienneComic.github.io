<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="A web comic about friendship, crying, and trauma recovery"
    />
    <link rel="prefetch" href="./assets/header_25_percent.webp" />
    <script
      src="./src/components/header/index.js"
      type="text/javascript"
    ></script>
    <script
      src="./src/components/footer/index.js"
      type="text/javascript"
    ></script>
    <link rel="stylesheet" href="style.css" />
    <title>Julienne the graphic novel's home on the internet</title>
  </head>
  <script>
    let navBar;
    const d = document;
    const w = window;

    const getQueryValue = (query) => {
      const url = new URL(location);
      return url.searchParams.get(query);
    };
    const setQueryValue = (query, value) => {
      const url = new URL(location);
      url.searchParams.set(query, value);
      history.pushState({}, "", url);
    };

    const view = getQueryValue("view");
    if (!view) {
      setQueryValue("view", "page");
    }
    const head = document.getElementsByTagName("head")[0];
    const js = document.createElement("script");

    js.type = "text/javascript";
    switch (view) {
      case "page":
        js.src = "./src/components/page/index.js";
        break;
      case "archive":
        js.src = "./src/components/archive/index.js";
        break;
      case "about":
        js.src = "./src/components/about/index.js";
        break;
      case "cast":
        js.src = "./src/components/cast/index.js";
        break;
    }

    head.appendChild(js);
    console.log("base script finished");
  </script>

  <body>
    <div id="loading"></div>
    <header-component></header-component>
    <page-component></page-component>
    <cast-component></cast-component>
    <archive-component></archive-component>
    <about-component></about-component>
    <footer-component></footer-component>
  </body>
</html>
